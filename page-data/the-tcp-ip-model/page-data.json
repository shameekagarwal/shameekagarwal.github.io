{"componentChunkName":"component---src-templates-blog-js","path":"/the-tcp-ip-model/","result":{"data":{"markdownRemark":{"fields":{"slug":"/the-tcp-ip-model/"},"id":"c76a79ba-ca1b-5439-8db3-c0bedb4301e5","html":"<h1 id=\"about\" style=\"position:relative;\"><a href=\"#about\" aria-label=\"about permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>About</h1>\n<ul>\n<li>protocol - a defined set of standards that computers follow to communicate</li>\n<li>the tcp ip model is a five layered model</li>\n<li>the osi model breaks the application layer into 3 separate layers - session, presentation and application</li>\n</ul>\n<div class=\"table-wrapper\">\n<table>\n<thead>\n<tr>\n<th>Layer Number</th>\n<th>Layer Name</th>\n<th>Protocol</th>\n<th>Protocol Data Unit</th>\n<th>Addressing</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>5</td>\n<td>Application</td>\n<td>HTTP, SMTP</td>\n<td>Messages</td>\n<td>-</td>\n</tr>\n<tr>\n<td>4</td>\n<td>Transport</td>\n<td>TCP, UDP</td>\n<td>Segments</td>\n<td>Ports</td>\n</tr>\n<tr>\n<td>3</td>\n<td>Network</td>\n<td>IP</td>\n<td>Datagram</td>\n<td>IP Address</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Data Link</td>\n<td>Ethernet, Wifi</td>\n<td>Frames</td>\n<td>MAC Address</td>\n</tr>\n<tr>\n<td>1</td>\n<td>Physical</td>\n<td>10 Base T</td>\n<td>Bits</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n</div>\n<ul>\n<li>the physical, the data link and the network layer are together called the media layers since they help in transporting data from one point to another</li>\n<li>the transport and the application layer are together called the host layers since they help in breaking / reassembling of data so that it can be interpreted correctly</li>\n</ul>\n<h1 id=\"how-data-flows\" style=\"position:relative;\"><a href=\"#how-data-flows\" aria-label=\"how data flows permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How Data Flows</h1>\n<ol>\n<li>message is encapsulated by tcp segment</li>\n<li>tcp segment is encapsulated by ip datagram</li>\n<li>ip datagram is encapsulated by ethernet frame</li>\n</ol>\n<h1 id=\"servers-and-clients\" style=\"position:relative;\"><a href=\"#servers-and-clients\" aria-label=\"servers and clients permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Servers and Clients</h1>\n<ul>\n<li>clients request for data</li>\n<li>servers serve data</li>\n<li>most nodes have multiple servers and clients running on them</li>\n</ul>\n<h1 id=\"physical-layer\" style=\"position:relative;\"><a href=\"#physical-layer\" aria-label=\"physical layer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Physical Layer</h1>\n<ul>\n<li>transmission of raw bits of streams via a shared medium which both parties understand</li>\n<li>there is no concept of addressing (so think of hubs, collision domains, etc)</li>\n<li>csma cd is a solution in data link layer, not in physical layer</li>\n<li>the physical layer is used for transmitting bits</li>\n<li>modulation - the technique of varying voltage</li>\n<li>line coding - representing digital data (0s and 1s) using techniques like modulation</li>\n<li>cables are pairs of twisted copper wires, which help in preventing crosstalk</li>\n<li>cables are usually duplex i.e. allow communication in both ways</li>\n<li>this is contrary to simplex i.e. unidirectional flow of data</li>\n<li>duplex can be -\n<ul>\n<li>full duplex - allowing data flow in both directions simultaneously</li>\n<li>half duplex - allowing data flow in only one direction at a time</li>\n</ul>\n</li>\n<li>rj45 or registered jack 45 is a common plug</li>\n<li>plugs are connected to network ports which are present on the physical device</li>\n<li>copper -\n<ul>\n<li>wires can be made up of multiple copper wires and insulated by plastic</li>\n<li>they simulate 1s and 0s by voltage changes</li>\n<li>crosstalk - when electrical pulse on one wire is detected by another wire, thus distorting the data</li>\n<li>cat5 &#x3C; cat5e &#x3C; cat6, based on crosstalk</li>\n</ul>\n</li>\n<li>fiber -\n<ul>\n<li>made up of optical fibers which are thin tubes of glass</li>\n<li>simulate 1s and 0s by light pulses</li>\n</ul>\n</li>\n<li>wifi - radio frequencies</li>\n</ul>\n<h1 id=\"hubs\" style=\"position:relative;\"><a href=\"#hubs\" aria-label=\"hubs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hubs</h1>\n<ul>\n<li>a layer 1 device connected to multiple devices</li>\n<li>all devices receive the data, and the devices have to decide if the data was meant for them</li>\n<li>so, it works like broadcast</li>\n<li>this forms a collision domain - a segment where only one device can send data, as transmission from multiple devices leads to collisions, thus distorting the data</li>\n</ul>\n<h1 id=\"data-link-layer\" style=\"position:relative;\"><a href=\"#data-link-layer\" aria-label=\"data link layer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data Link Layer</h1>\n<ul>\n<li>ethernet is used in this layer</li>\n<li>collision domains in layer 1 was solved by csma-cd (carrier sense multiple access with collision detection)\n<ul>\n<li>carrier sense - layer 2 is polling / sensing layer 1 to check if there is some other device transmitting its data and accordingly decides whether it should transmit its own data</li>\n<li>collision detection - if a collision happens, it waits for a random interval and then retries sending</li>\n</ul>\n</li>\n<li>mac address is used in this layer</li>\n</ul>\n<h1 id=\"mac-addresses\" style=\"position:relative;\"><a href=\"#mac-addresses\" aria-label=\"mac addresses permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mac Addresses</h1>\n<ul>\n<li>mac or media address control address helps in identifying which node the data was meant for</li>\n<li>mac addresses are globally unique ids, which are 48 bit hexadecimal numbers, with 6 octets</li>\n<li>e.g. <code class=\"language-text\">11 22 33 aa bb cc</code></li>\n<li>first three octets are oui (organizationally unique identifier) which help identify the manufacturer</li>\n</ul>\n<h1 id=\"ethernet-frame-components\" style=\"position:relative;\"><a href=\"#ethernet-frame-components\" aria-label=\"ethernet frame components permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ethernet Frame Components</h1>\n<ul>\n<li>sfd (start frame delimiter) - where the frame starts</li>\n<li>preamble - to synchronize clocks</li>\n<li>source MAC address</li>\n<li>destination MAC address\n<ul>\n<li>unicast - data is accepted by one receiver, lsb (least significant bit) of the first octet is set to 0</li>\n<li>multicast - data is accepted by multiple receivers, lsb of the first octet is set to 1</li>\n<li>broadcast - data is accepted by all the receivers, all hexadecimal digits are fs in the address</li>\n</ul>\n</li>\n<li>ether type - layer 3 protocol that is being used, e.g. ip</li>\n<li>fcs - frame check sequence. it is used to perform crc (cyclical redundancy check) i.e. to verify if data is valid</li>\n<li>payload (understand that this is basically the ip datagram!), length, etc</li>\n</ul>\n<h1 id=\"switches\" style=\"position:relative;\"><a href=\"#switches\" aria-label=\"switches permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Switches</h1>\n<ul>\n<li>a layer 2 device connected to multiple devices</li>\n<li><strong>inspects the contents of the ethernet frame</strong> and accordingly forwards the data</li>\n<li>this above point is the advantage of switches over hubs</li>\n<li>it polls layer 1 to see if there is any data being transmitted already, and if not, it forwards the data. this called carrier sense</li>\n<li>leads to fewer retransmissions, lesser collision domains, higher throughput</li>\n<li>unlike hub where there is just one collision domain, here there are multiple collision domains, each scoped to one of the switch ports to the device connected to it</li>\n</ul>\n<h1 id=\"network-layer\" style=\"position:relative;\"><a href=\"#network-layer\" aria-label=\"network layer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Network Layer</h1>\n<ul>\n<li>internet - network of networks, used to connect different networks which use layer 2 internally</li>\n<li>ip addresses belong to the networks, not devices i.e. the ip of our device can change based on our location</li>\n<li>ip addresses can be -\n<ul>\n<li>static - configured on a node manually, used for network devices</li>\n<li>dynamic - use dhcp to assign a dynamic ip address, i.e. ip address of the device is not fixed</li>\n</ul>\n</li>\n<li>fragmentation - data has to be split into several datagrams to be able to transmit</li>\n<li>the fragmented data then needs reassembling</li>\n<li>while the ethernet frame generally keeps changing for every hop, the ip datagram they encapsulate stays the same for the entire journey (but fields like checksum, ttl, ip if using nat, etc. might be modified?)</li>\n</ul>\n<h1 id=\"ip-datagram-components\" style=\"position:relative;\"><a href=\"#ip-datagram-components\" aria-label=\"ip datagram components permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IP Datagram Components</h1>\n<ul>\n<li>version - helps show if ipv4 or ipv6 is being used</li>\n<li>service type - qos (quality of service) helping routers know which ip datagrams are more important</li>\n<li>identification - datagrams which have the same identification number are a part of the same transmission. this happens as a result of fragmentation</li>\n<li>flag field - helps identify if the datagram has been fragmented</li>\n<li>fragmentation - helps order the datagrams while reassembling</li>\n<li>ttl - time to live i.e. how many times a datagram can hop. this value is decremented by one every time a datagram visits a router, so that there isn’t an endless loop in case of an error as the value can’t go below 0</li>\n<li>protocol - type of the datagram it encloses i.e. tcp, udp, etc. - just like layer 2 contains layer 3 protocol (ether type), layer 3 contains layer 4 protocol</li>\n<li>header checksum - like the ethernet checksum. note: since ttl changes at every hop, and therefore so does checksum, so it needs to be recalculated every time</li>\n<li>source ip address</li>\n<li>destination ip address</li>\n<li>payload, length, etc</li>\n</ul>\n<h1 id=\"router\" style=\"position:relative;\"><a href=\"#router\" aria-label=\"router permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Router</h1>\n<ul>\n<li>a layer 3 device connected to multiple networks</li>\n<li>inspects the contents of IP datagram and accordingly forwards the data</li>\n<li>routers are of different types, e.g. ones at homes forward traffic from home devices to ISP</li>\n<li>routers have multiple network interfaces and so multiple MAC addresses</li>\n</ul>\n<h1 id=\"arp\" style=\"position:relative;\"><a href=\"#arp\" aria-label=\"arp permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ARP</h1>\n<ul>\n<li>address resolution protocol</li>\n<li>sends broadcast messages on layer 2</li>\n<li>an arp table is stored by devices for ip address to mac address mapping</li>\n<li>this is needed to wrap the ip datagram by an ethernet frame, i.e. the destination mac address</li>\n<li>the transmitting device can send a broadcast message (all fs) in its network to get the destination mac address</li>\n<li>arp tables expire after some time to account for the changes in the network</li>\n</ul>\n<h1 id=\"address-classes\" style=\"position:relative;\"><a href=\"#address-classes\" aria-label=\"address classes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Address Classes</h1>\n<div class=\"table-wrapper\">\n<table>\n<thead>\n<tr>\n<th>Class</th>\n<th>Starting Bits</th>\n<th>Bits for Network id</th>\n<th>Bits for Host id</th>\n<th>No. of Networks</th>\n<th>No. of Hosts / Network</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>0</td>\n<td>8</td>\n<td>32 - 8 = 24</td>\n<td>2<sup>8-1</sup></td>\n<td>2<sup>24</sup> - 2</td>\n</tr>\n<tr>\n<td>B</td>\n<td>10</td>\n<td>16</td>\n<td>32 - 16 = 16</td>\n<td>2<sup>16-2</sup></td>\n<td>2<sup>16</sup> - 2</td>\n</tr>\n<tr>\n<td>C</td>\n<td>110</td>\n<td>24</td>\n<td>32 - 24 = 8</td>\n<td>2<sup>24-3</sup></td>\n<td>2<sup>8</sup> - 2</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h1 id=\"subnetting\" style=\"position:relative;\"><a href=\"#subnetting\" aria-label=\"subnetting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Subnetting</h1>\n<ul>\n<li>subnetting is splitting a large network to subnets or smaller chunks</li>\n<li>built on top of address classes</li>\n<li>IP addresses are now divided into 3 parts - network id, subnet id and host id</li>\n<li>core routers are only concerned with the network id and send to the correct gateway routers</li>\n<li>then the gateway routers get it to the host</li>\n</ul>\n<p>example 9.100.100.100/27 -</p>\n<div class=\"table-wrapper\">\n<table>\n<thead>\n<tr>\n<th>#</th>\n<th>Octet 1</th>\n<th>Octet 2</th>\n<th>Octet 3</th>\n<th>Octet 4</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>IP Address</strong></td>\n<td>9</td>\n<td>100</td>\n<td>100</td>\n<td>100</td>\n</tr>\n<tr>\n<td><strong>Subnet Mask</strong></td>\n<td>11111111</td>\n<td>11111111</td>\n<td>11111111</td>\n<td>11100000</td>\n</tr>\n</tbody>\n</table>\n</div>\n<ol>\n<li>since IP address starts with a 9, it is class A, so network id, 8 bits is 00001001</li>\n<li>perform “and” operation of ip address with subnet mask, remove bits for network id, remaining 11 bits i.e. 01100100.011 is subnet id</li>\n<li>remaining 5 bits are for host id, out of which 2 addresses are not available - all 0s for host id and all 1s for host id, where all 1s is used for broadcast</li>\n</ol>\n<h1 id=\"cidr\" style=\"position:relative;\"><a href=\"#cidr\" aria-label=\"cidr permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CIDR</h1>\n<ul>\n<li>traditional subnetting was not enough, as bits for network ids are not flexible</li>\n<li>e.g. some companies brought many class C to combat this issue</li>\n<li>therefore we came up with CIDR (classless inter-domain routing)</li>\n<li>with CIDR, network and subnet id are combined into one</li>\n<li>e.g. 9.100.100.100/24 means 24 bits for net mask</li>\n</ul>\n<h1 id=\"routing\" style=\"position:relative;\"><a href=\"#routing\" aria-label=\"routing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Routing</h1>\n<ul>\n<li>routers are connected in a mesh topology to survive failures and route data efficiently. the process of forwarding data in routers is described below</li>\n<li>routers sit between different networks / at network edges</li>\n<li>an ethernet frame reaches the router’s interface</li>\n<li>the ethernet frame is removed to extract the ip datagram</li>\n<li>the destination ip on the ip datagram is inspected</li>\n<li>it will use different algorithms to find the best possible way to forward the data</li>\n<li>it will reduce the ttl of the ip datagram</li>\n<li>it will therefore recalculate the checksum and set it on the ip datagram</li>\n<li>it now has to construct the new ethernet frame</li>\n<li>the source mac will be its interface’s mac address</li>\n<li>it can get the mac address of the next hop using its arp table (or cache it if there is no corresponding entry), which is used for the destination mac address in the ethernet frame</li>\n<li>encapsulate the ip datagram and forward the ethernet frame</li>\n</ul>\n<h1 id=\"route-table-components\" style=\"position:relative;\"><a href=\"#route-table-components\" aria-label=\"route table components permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Route Table Components</h1>\n<ul>\n<li>destination network - store the network id and net mask</li>\n<li>a catch-all entry to forward data to if it cannot find any corresponding destination network</li>\n<li>next hop - the next device to go to</li>\n<li>total hops - the total hops, continuously updated, to reach the destination network</li>\n<li>interface - routers have multiple interfaces, so it should know which interface to use for the current datagram</li>\n</ul>\n<h1 id=\"exterior-gateway-protocols\" style=\"position:relative;\"><a href=\"#exterior-gateway-protocols\" aria-label=\"exterior gateway protocols permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exterior Gateway Protocols</h1>\n<ul>\n<li>bgp - border gateway protocol</li>\n<li>share data across different organizations</li>\n<li>core internet routers try to get the data to the edge routers</li>\n<li>edge routers / gateway routers sit on the entry and exit point of autonomous networks</li>\n<li>core routers need to know how to efficiently route data to autonomous systems, and therefore a 32 bit asn (autonomous system number) is assigned to autonomous systems</li>\n<li>asn is not an ip address, it doesn’t change frequently like ip addresses, and is not used by humans</li>\n</ul>\n<h1 id=\"interior-gateway-protocols\" style=\"position:relative;\"><a href=\"#interior-gateway-protocols\" aria-label=\"interior gateway protocols permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Interior Gateway Protocols</h1>\n<ul>\n<li>interior gateway protocols are used for routing data in a single, autonomous network</li>\n<li>can be of two types - distance vector and link state</li>\n</ul>\n<h3 id=\"distance-vector-protocol\" style=\"position:relative;\"><a href=\"#distance-vector-protocol\" aria-label=\"distance vector protocol permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Distance Vector Protocol</h3>\n<ul>\n<li>older standard</li>\n<li>has information about itself and immediate neighbors only</li>\n<li>because of this, it is slow to react to the changes in a network far from it</li>\n</ul>\n<h3 id=\"link-state-protocol\" style=\"position:relative;\"><a href=\"#link-state-protocol\" aria-label=\"link state protocol permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Link State Protocol</h3>\n<ul>\n<li>newer standard</li>\n<li>each router broadcasts its state to all the other routers</li>\n<li>all routers have information about all the other routers</li>\n<li>so more complex algorithms are used and more memory and processing power is needed</li>\n</ul>\n<h1 id=\"transport-layer\" style=\"position:relative;\"><a href=\"#transport-layer\" aria-label=\"transport layer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Transport Layer</h1>\n<ul>\n<li>each ip datagram is sent individually. this means some failures can happen along the way, no order is ensured, each datagram could have taken its own path, cannot differentiate between ip datagrams from different applications, etc. and these issues cannot be handled at layer 3 level</li>\n<li>multiplexing - transport layer sends data from the multiple applications on a node packaged as a whole</li>\n<li>demultiplexing - transport layer receives data and breaks it down to send it to the correct application</li>\n<li>ports, which are 16-bit numbers are used to achieve multiplexing and demultiplexing</li>\n<li>specific ports are used for specific application protocols e.g. port 80 for http, port 21 for ftp</li>\n<li>if <code class=\"language-text\">10.1.1.100</code> is the IP address, <code class=\"language-text\">10.1.1.100:80</code> is the socket address</li>\n<li>sockets - a socket can be in various states, and it needs to be opened on a port for transmission of traffic</li>\n<li>deciding when to try resending of data in case of a failure is only done by transport layer, as it receives ack</li>\n</ul>\n<h1 id=\"ports\" style=\"position:relative;\"><a href=\"#ports\" aria-label=\"ports permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ports</h1>\n<ul>\n<li>system ports - also called well known ports, range 1-1023, for common services e.g. http port 80</li>\n<li>registered ports - range 1024-49151, for not as common services e.g. database 3306</li>\n<li>ephemeral ports - also called private ports, range 49152-65535, used by clients</li>\n</ul>\n<h1 id=\"udp\" style=\"position:relative;\"><a href=\"#udp\" aria-label=\"udp permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UDP</h1>\n<ul>\n<li>tcp has a lot of overhead</li>\n<li>to prevent this, for cases like streaming videos, udp or user datagram protocol is used</li>\n<li>udp doesn’t have acknowledgments</li>\n</ul>\n<h1 id=\"tcp-segment-components\" style=\"position:relative;\"><a href=\"#tcp-segment-components\" aria-label=\"tcp segment components permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TCP Segment Components</h1>\n<ul>\n<li>source port - one of the ephemeral ports on the client</li>\n<li>destination port - a well known system port on server, like port 80</li>\n<li>sequence number - 32-bit number, since data is split, it helps identify which tcp segment the data is a part of</li>\n<li>acknowledgement number - the next expected sequence number</li>\n<li>control flags - there are 6 flags, so 6 bits\n<ul>\n<li>urg - urgent, indicates that the segment is urgent</li>\n<li>ack - acknowledgement, indicates that the acknowledgement number field should be examined</li>\n<li>psh - push, indicates that the transmitting device wants the receiving device to push buffered data to application as soon as possible. buffers help group the chunks of data to make transmission efficient</li>\n<li>rst - reset, indicates that the sending side has error</li>\n<li>syn - synchronize, indicates that the sequence number field should be examined</li>\n<li>fin - finish, indicates that the sending side wants to end the connection</li>\n</ul>\n</li>\n<li>tcp window - range of sequence numbers before an acknowledgement is required. basically the receiver sends this? after the sender has sent this amount of data, the sender stops sending any more data until it gets an acknowledgement back from the receiver</li>\n<li>checksum</li>\n</ul>\n<div class=\"blog--divider\">\n  <div class=\"blog--left\">\n<h1 id=\"3-way-handshake\" style=\"position:relative;\"><a href=\"#3-way-handshake\" aria-label=\"3 way handshake permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3 Way Handshake</h1>\n<p>3 way handshakes are used to establish a connection</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 216px; margin: 5px 0 5px 0 !important;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/56c7fc6c3853e891ad27fe58119fc7a9/7d4ec/open-handshake.drawio.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 93.67088607594937%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAABrElEQVQ4y52U567CMAyFef+ngh8glhBL7Cn23kMsX32WXJUOBDeS2zSJj8+xnUam06k8Hg9hvF4v+XWYDxhgRcbj8Rug2X8AJ5OJREB1b3rNvf4V4GAwkO12K9frNdQBez6famGBHMBeryeLxUKWy6Ugn8XNZiP7/f6jdK+KQMkwYONwOAiBUqmUNJtNGQ6HOs/lctJqtWQ+n/sC4KuAPKwo7nG/35X1er2W3W6nhy09kAB0tVrpN/63200VvgH+UmVyfjweNRigyWRS0ul0OMNP+QpKUb/f1/Q4fchhaFslWUO27ZkzxYLEaDRSieSXIp7PZ11zikKEeDyuB7LZrMRiMSkWi1Kv19XIXz6f18JUq1WJRqOSSCR0Ti4ZWpROpyOz2UwjEwFHQPk2VjA1tmbsXS4Xp3+dtslkMprM0+nky+UvV/CtsZFtLYDB5ps7HNjYVhQKYoAEqFQq0u12VRY3yfqONqFdvOCQ8PWh+0CtVpNCoaB55U1BGo2GsiiXywpu+bVB0H81NvvcIHxRw7xUKqn5AL1/mLA/jVduu91W5oGAQeBBa15wJP8BlF28+TLG6d8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"open-handshake\"\n        title=\"open-handshake\"\n        src=\"/static/56c7fc6c3853e891ad27fe58119fc7a9/7d4ec/open-handshake.drawio.png\"\n        srcset=\"/static/56c7fc6c3853e891ad27fe58119fc7a9/c26ae/open-handshake.drawio.png 158w,\n/static/56c7fc6c3853e891ad27fe58119fc7a9/7d4ec/open-handshake.drawio.png 216w\"\n        sizes=\"(max-width: 216px) 100vw, 216px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n  </div>\n  <div class=\"blog--right\">\n<h1 id=\"4-way-handshake\" style=\"position:relative;\"><a href=\"#4-way-handshake\" aria-label=\"4 way handshake permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4 Way Handshake</h1>\n<p>4 way handshakes are used to end a connection</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 176px; margin: 5px 0 5px 0 !important;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5cb602992543999f3d74e0318c7ae133/06437/close-handshake.drawio.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 160.126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAYAAAASYli2AAAACXBIWXMAAAsTAAALEwEAmpwYAAACmUlEQVRIx62WS08qQRCF/f8/AjewdwlBFiiJBqI8ExCFyBsU5A0KSJmvTM9tZgYymFtJZ+ih+3TVqVPVc9Fut+Xr60uw/X4v55rZMxgMZD6fy0Wr1fovgP1+X2az2S/g5+en86dZEBTcA0jIu93Os8gN7h5uBxzA19dXeXl5keFwKNPpVLbbrS/w9/d3MEBCXq1WOoFYPG42mzKZTE6Gag7g6QHcbDYHizkgmUxKPB5X8Lu7O4nFYpJKpeTh4UEqlYrngG63+w/QZNmcxhPQ8XisniIHvMeLt7c3pajX68lisXASCl0eQJuTUwbPHAIo+xmRSOS4Dg03Nk/2cBteRqNRjeZPHmLsQRlwh6fVatU/ZAxu4I8nGv34+NDBnE3lclnq9bqMRiMN02TZCdmd5cfHR81wqVTSLBNOOp2WbDar73K5nALadlApZHS9XisHHNDpdMR4bjgjETbHzG1OHcDn52cJhUIq6Pf3dwW2q8Vd126OPZVCSIYHv0oIMjwhG49O1apbVnaNYwj+qLCDemVbo9HwAp5jiJlyQ4eUJZln7sgGvSFUTmExuiPrzNHfcrnUdWwqFouqRfiHO8JGk05SCIHJ7e2tdhOK/+rqShKJhJ5stMd7Os319bVqM5PJKDBJPeCQH5xOdeA+fHDisXZvNwmPsGu1moTDYeXClJtfx/bLsN3yHEBKiGvA9DW/u8XuOoF0SDJMbzNCp2KC3Hi+d4rhAg/I9v39vdzc3GhNQ3Y+n5enpydNisms4djcmDh0VIfwSo2THEALhYIC8p45XQeq7CQZif2pwdKdUAPemiiQnO8V4Ee+Oym2wTVFcHl5+XsFBP1YOvYVYQzv1EPcPvdjyX2ZYTimHNJU7fZ17peX2UPYcPsDsEKlzST3RYMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"close-handshake\"\n        title=\"close-handshake\"\n        src=\"/static/5cb602992543999f3d74e0318c7ae133/06437/close-handshake.drawio.png\"\n        srcset=\"/static/5cb602992543999f3d74e0318c7ae133/c26ae/close-handshake.drawio.png 158w,\n/static/5cb602992543999f3d74e0318c7ae133/06437/close-handshake.drawio.png 176w\"\n        sizes=\"(max-width: 176px) 100vw, 176px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n  </div>\n</div>\n<h1 id=\"application-layer\" style=\"position:relative;\"><a href=\"#application-layer\" aria-label=\"application layer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Application Layer</h1>\n<ul>\n<li>payload of tcp segments contain the message sent by applications</li>\n<li>protocols like http, smtp, etc. need to be followed, irrespective of the application</li>\n<li>osi model divides application layer into session, presentation and application</li>\n</ul>\n<h1 id=\"name-resolution\" style=\"position:relative;\"><a href=\"#name-resolution\" aria-label=\"name resolution permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Name Resolution</h1>\n<ul>\n<li>domain name system</li>\n<li>resolves string to ip addresses for us, as strings are easier to use by humans</li>\n<li>it also helps change the ip address behind the scenes (e.g. changing the location of a server) without the end user getting affected</li>\n<li><a href=\"http://www.example.com\">www.example.com</a> is a fqdn i.e. fully qualified domain name where\n<ul>\n<li>www is the sub domain</li>\n<li>example is the domain</li>\n<li>com is the top level domain</li>\n<li>. is the root. we do not see it, since it is after .com i.e. .com.</li>\n</ul>\n</li>\n<li>5 types of dns servers - caching name server, recursive name servers, root name servers, tld name servers and authoritative name servers</li>\n<li>caching name servers are provided by isp, to cache the domain name lookups for performance. a small ttl is used to keep the cache fresh to accommodate for changes</li>\n<li>recursive name servers facilitate the resolving of name to ip address</li>\n<li>recursive name servers contact the root name server first, which directs to the correct tld name server</li>\n<li>the tld servers then redirects the recursive name server to the correct authoritative name server</li>\n<li>there are 13 root servers, and so 13 ip addresses. however, anycast ip can be used underneath to distribute the load among multiple servers</li>\n<li>when we say that tld name servers point to the authoritative name servers, they do this lookup only using the domain and not the subdomain, e.g. only example.com not <a href=\"http://www.example.com\">www.example.com</a></li>\n<li>authoritative name servers host zone files, for e.g. <a href=\"http://www.example.com\">www.example.com</a> points to ip 1.2.3.4</li>\n<li>caching and recursive name servers can be merged into one</li>\n<li>udp is used for dns traffic. so, in case of error, the request is made again i.e. in case when traffic is of type tcp, errors are handled at transport layer (when an ack response isn’t received), but here, the application layer handles requesting for the data again</li>\n<li>dns servers also store resource records</li>\n<li>different resource record types allow different kinds of dns name resolutions</li>\n<li>resource record types -\n<ul>\n<li>ns record - nameserver records, present in tld name servers which help point to correct authoritative name servers / present in root servers which help point to correct tld name servers</li>\n<li>a record - it is used to point a domain name to an ipv4 address. a single domain name can have multiple “a records”, allowing to load balance traffic e.g. using round robbin</li>\n<li>cname record - canonical name record, helps redirect traffic from a domian name to another domain name. this way, if ip address changes, we need to update the change at only one place</li>\n<li>aaaa record - also called “quad a record”, used for ipv6 address</li>\n<li>mx record - mail exchange, helps forward email traffic to the mail server of the company</li>\n<li>srv record - service record, location of specific services like calendar and scheduling</li>\n<li>txt record - text record, metadata for humans, nowadays for storing common configuration as well and then devices parse it</li>\n</ul>\n</li>\n<li>we buy domains from a domain registrar</li>\n<li>a dns service is used for managing dns records</li>\n<li>we use dns service to manage dns records, e.g. redirect to 1.2.3.4 for queries to users.example.com</li>\n<li>we can use the same company as the domain registrar and the dns service</li>\n<li>when we use a different company for a domain registrar and dns service, we need to update the domain registrar to point to the dns service’ authoritative name servers. when we use the same company, this happens bts automatically for us</li>\n<li>after this, the domain registrar tells the correct tld name server about what authoritative name servers to use for queries related to the domain we purchased - aka ns records are updated?</li>\n<li>8.8.8.8 is the public dns service provided by google</li>\n</ul>\n<h1 id=\"dhcp\" style=\"position:relative;\"><a href=\"#dhcp\" aria-label=\"dhcp permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DHCP</h1>\n<ul>\n<li>dynamic host configuration protocol</li>\n<li>every host needs to get these four configurations - ip address, subnet mask, gateway, name server</li>\n<li>dhcp helps assign these configurations dynamically</li>\n<li>allocation strategies -\n<ul>\n<li>dynamic allocation - hosts can get any ip address from the pool of available addresses</li>\n<li>automatic allocation - dhcp server tries to assign the host the same address if possible</li>\n<li>fixed allocation - based on mac address, allow ip address to be assigned</li>\n</ul>\n</li>\n<li>dhcp server runs on port 67, dhcp requests are made by a client from port 68</li>\n<li>dhcp server sends messages to the broadcast address, since the client doesn’t yet have an ip address. since it’s a broadcast, all clients receive it, and the original client identifies itself with the message using its mac address</li>\n<li>dhcp discovery -\n<ul>\n<li>discover - sent from client to dhcp server, source ip is 0.0.0.0:68 and destination ip is 255.255.255.255:67</li>\n<li>offer - sent from dhcp server to client, source ip is the actual ip of the dhcp server and destination ip is 255.255.255.255:68</li>\n<li>request - sent from client to dhcp server, source ip is 0.0.0.0:68 and destination ip is 255.255.255.255:67</li>\n<li>acknowledge - sent from dhcp server to client, source ip is the actual ip of the dhcp server and destination ip is 255.255.255.255:68</li>\n</ul>\n</li>\n<li>the entire configuration is called a dhcp lease, which may last for few days, after which the client returns the lease to the dhcp server to release the address</li>\n</ul>\n<h1 id=\"non-routable-address-space\" style=\"position:relative;\"><a href=\"#non-routable-address-space\" aria-label=\"non routable address space permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Non Routable Address Space</h1>\n<ul>\n<li>ipv4s are not enough to accommodate for the number of devices</li>\n<li>so some ranges of IP addresses were reserved, so that they are just for use within an autonomous system</li>\n<li>three of them are - 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16</li>\n</ul>\n<h1 id=\"nat\" style=\"position:relative;\"><a href=\"#nat\" aria-label=\"nat permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NAT</h1>\n<ul>\n<li>network address translation</li>\n<li>helps in transforming one IP address to another</li>\n<li>this is done by the nat gateway, as it\n<ul>\n<li>rewrites the source IP in outbound packets</li>\n<li>rewrites the destination IP in inbound packets</li>\n</ul>\n</li>\n<li>also called IP masquerading, as no one can establish a connection to the host without going via the gateway</li>\n<li>it is limited to ipv4 and ipv6 doesn’t need this</li>\n<li>it is used to give internet access to private networks</li>\n<li>this way only one public ip is used by all the devices on the private network</li>\n<li>techniques like port preservation are used to achieve this, the goal is to remember the client port which was used and map it to the corresponding port of the gateway</li>\n</ul>\n<h1 id=\"digital-signature\" style=\"position:relative;\"><a href=\"#digital-signature\" aria-label=\"digital signature permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Digital Signature</h1>\n<ul>\n<li>hash - hashing is not reversible. the hashing algorithm should ideally produce as few collisions as possible, so sha256 is preferred over md5. e.g. storing hashed passwords in database to authenticate users. this way, even if the database is sacrificed, we do not lose sensitive data</li>\n<li>origin authentication - the source encrypts the data using a private key and sends this data. the destination can then use the public key to confirm that this public key’s private counterpart was used to encrypt this data. this helps the destination verify that the data was received from the right source, since the source of the data should have used the private key for the destination to be able to decrypt it using the public key</li>\n<li>verify data integrity - if we hash the data and send the hash along with the data, and the hash remains the same upon arrival, we can be sure that the data was not tampered with</li>\n</ul>\n<h1 id=\"tls-and-pki\" style=\"position:relative;\"><a href=\"#tls-and-pki\" aria-label=\"tls and pki permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TLS and PKI</h1>\n<ul>\n<li>tls - transport layer security and pki - public key infrastructure</li>\n<li>tls is the newer version of ssl</li>\n<li>symmetric encryption - the same key is used to encrypt and decrypt data</li>\n<li>asymmetric encryption - there is a public key and a private key. one of them is used to encrypt data while the other one is used to decrypt data</li>\n<li>we should aim to switch to symmetric encryption from asymmetric encryption as soon as possible since symmetric encryption is far more efficient computationally</li>\n<li>first, the server sends us the public key and keeps the private key to itself</li>\n<li>now, we encrypt the symmetric key using the public key and send it to the server. since only the server has the private key, only it can decrypt the message to retrieve the symmetric key</li>\n<li>now since both the server and the client have the symmetric key and no one else does, they can safely start encrypting and decrypting messages using it for all further communication</li>\n<li>second issue - how to trust the public key sent? what if there is a phishing attack i.e. the entire process discussed above is repeated, but the server itself is fraudulent</li>\n<li>so, the public keys instead of being sent by themselves, are a part of a certificate</li>\n<li>when servers generate the key pair, they get the public key signed by ca or certificate authorities by sending them a csr (certificate signing request)</li>\n<li>to validate the cas themselves, the signing is done by the cas using a private key, while the browsers have the public keys of the cas. e.g. to view them in chrome browsers, we can navigate to settings ➝ privacy and security ➝ security ➝ manage certificates ➝ authorities</li>\n<li>companies can manage the browsers of employees and embed custom ca public keys into them while having a self-hosted version of a ca server alongside</li>\n<li>steganography - the algorith used to hide encrypted data as a part of non-secret data so that no one can tell that we are sending encrypted data</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 356px; margin: 5px 0 5px 0 !important;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ab03bafbb1bc3ad07518ef5bcea7f403/50ac3/pki.drawio.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 90.50632911392405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVQ4y3VUPY/bRhDlz3KRPxC4The4cx87Tez8haS7pHTlLkDiS2zAuCJGcrGVs+50IHkQjz5JlCiSoijqg9Tym9xnzEiilQAekNgVZ+bpzczbVbIsQxAEiOMY2+0Wm80GnueBjPar1QpCCCRJwvvFYsE+WtfrNeeRfzabcb6SpinyPOcgSpJSchAZBZDf9324rovlcskxZFEU8Uq5VVXxSrEMSCzpX0zT5IRDMH0jlpeXl+h0OhgOh5x0YE9AlmVxRZTHgEmSIkkFjo2CDyzKqkBeZCirEkVRtOypXHmUQ6QYsCxLpHGBQkgkcc4gVBoHpRnybYMyBbKkaHtGliYCssxRZilSIRCGIYMq5PwQ/YP+6k8EiYWiLNA0DSc1soa6fInh5gLL1EFd1a0vjAV+66jQxy7CTYymqbn/DPiL+wjPJl/DEGcAF7IrpkaBk+F9nM6+h51d8reqqXnVbR9fPP0JP7/uYLxY7wg0EooQCWx7DNtyMB37rSzISE6T8QS25WE68Vg2zC4MYY1G8FwXM2cKezJupabQpJbrDU+0yBLuw6dGp9jEKyTbFInIWnnRSr3exDGyNOEJH+TEJX/z7Hd89cNzvHjf/zQ2SU+NE+tL/Op/Cyt/uyu5rng13BD3vjvBj3+cYzA/lNxAoWn9rd7irW7C8wNEUcz6Yh0mW1xMTmG6PcwCp2VY5DkGYxsv/rqA8WGImT+HENsdQ8MwYNzoUHtXuNF1XF1d8Qk56DFw15h7IVzH47Yc9OkvFqAinTiCH4YI971Xrq+voWsa/n33Dte9Hnq9Huvtcybr3ZQxnQJPngCvXgG+v/NRyY7j4M51oVkWNNPEYDBAvU8iXf3/hdxJqjFNNA8foj49RbOfcDuU+vwczZs3kLaNZt8/KeV/me1/V3WNOIpwc3sLbTqFPpnAuLvDfD4HnToGxOPHwIMHwNkZM5A7hBZEHu1Jb5qmwej30et2YRoGNFVFt9vly0NZhCFvho6DcRC0Aj0GOWZI9x7dPqqqot/v80tzoN7TbaWQFAQJUwg+5IfrSX6G4Wg0YkACIVBd19vrjZh/BHx1SHHk0jt+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pki\"\n        title=\"pki\"\n        src=\"/static/ab03bafbb1bc3ad07518ef5bcea7f403/50ac3/pki.drawio.png\"\n        srcset=\"/static/ab03bafbb1bc3ad07518ef5bcea7f403/c26ae/pki.drawio.png 158w,\n/static/ab03bafbb1bc3ad07518ef5bcea7f403/6bdcf/pki.drawio.png 315w,\n/static/ab03bafbb1bc3ad07518ef5bcea7f403/50ac3/pki.drawio.png 356w\"\n        sizes=\"(max-width: 356px) 100vw, 356px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h1 id=\"network-namespaces\" style=\"position:relative;\"><a href=\"#network-namespaces\" aria-label=\"network namespaces permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Network Namespaces</h1>\n<ul>\n<li>we can divide the network into namespaces to create isolated sandboxes</li>\n<li>the namespace itself has no visibility of the host configuration like arp tables of the host etc. when we run <code class=\"language-text\">ps aux</code> from the namespace, we can only see the processes running on the namespace</li>\n<li>however, the host itself has visibility into the namespace. e.g. if we run <code class=\"language-text\">ps aux</code> from the host, we can also see the process running in the namespace</li>\n<li>we have to create an interface on the namespaces to enable communication</li>\n<li>we create a switch, just like in case of normal hosts, to enable intercommunication between namespaces\n<ul>\n<li>to connect the virtual switch to namespaces, an interface is needed for both (refer diagram). for this, we create a pipe, which is like a virtual cable with interfaces on both ends. these are also referred to as veth or virtual ethernet pairs</li>\n</ul>\n</li>\n<li>now, the switch is also like an interface for the host, thus helping the namespaces communicate with the world outside the host through another interface of the host</li>\n<li>just like normal hosts need functionality like gateway, nat, etc., all this is now provided by the host which contains the namespaces\n<ul>\n<li>e.g. nat is needed because all ip addresses of interfaces of namespaces, interface of the virtual switch, etc. will be from the non routable address space, and there needs to be a way for the host to forward the response back to the correct namespace</li>\n</ul>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 351px; margin: 5px 0 5px 0 !important;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1a3246225ae50064802162668e1fcb0a/7c2a6/network-namespaces.drawio.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85.44303797468356%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3UlEQVQ4y4WU544CMQyE9/3fC35SRBEIWHpvS+8YfT5NtMchLpKVbOKMZ2xno8lkYufz2Q6Hwx87nU42GAys0+nY8Xj86MP+fr+31WpljGi329m3sd1ubblc2n9js9n8AC4WC2eBjcdjgzHGutfr2XQ69eisdabz4XDo7CFFYAecz+d+eLvdrN/vW7vddicuIQdHDHkEjePYut2urx+Ph/txLqUBkHwhrdFoWL1etyRJ3AkpAoUpASuVivuSe+7qPACKAQ6z2SywA4xA1+vVfS6Xi4OORqNQSAJTlAAIAJfSg6gwbbVanor0QObz+QzfAP/KIYCwYQBM8skle7J0exCMPLIGmDsfATmEPgfM9/vdqwgAEikE0iWTdMD+I0NJJtE4cRFHctlsNq1WqzkogTkjGL7MaUBIOSBRGcxqAYwiUDRaBCDty5RD7oW2Wa/XDsKMjHdjn+ZmLalaYzDHh+qzH0n7twFTUoHE9KzGRiWg5XLZInIBMjPR9Px4khj7REc6F9WnGGf4IBdA0hIBoBfBCyiVSt5/uVzOCoWC5fN5X2cyGctms14gnibFIogeQMghC5DfB856lhRFPwrkvqcD6erLiOhoh4kMZuxhsJbxLdayYrFo1WrVUwDDFz4IDBGl2QA2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"network namespaces\"\n        title=\"network namespaces\"\n        src=\"/static/1a3246225ae50064802162668e1fcb0a/7c2a6/network-namespaces.drawio.png\"\n        srcset=\"/static/1a3246225ae50064802162668e1fcb0a/c26ae/network-namespaces.drawio.png 158w,\n/static/1a3246225ae50064802162668e1fcb0a/6bdcf/network-namespaces.drawio.png 315w,\n/static/1a3246225ae50064802162668e1fcb0a/7c2a6/network-namespaces.drawio.png 351w\"\n        sizes=\"(max-width: 351px) 100vw, 351px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h1 id=\"miscellaneous-commands-in-linux\" style=\"position:relative;\"><a href=\"#miscellaneous-commands-in-linux\" aria-label=\"miscellaneous commands in linux permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Miscellaneous Commands in Linux</h1>\n<ul>\n<li>to view all interfaces, use <code class=\"language-text\">ip link</code> or <code class=\"language-text\">ip addr</code></li>\n<li>to assign an ip address to one of the interfaces, use <code class=\"language-text\">ip addr add 192.168.1.10/24 dev &lt;&lt;interface-name>></code>. note: here dev isn’t a random name</li>\n<li>these commands were enough if we had a single network e.g. multiple devices which coexist on the same network can forward traffic to one another using a switch. but, if we have multiple networks, we would need a router with interfaces on each of these networks</li>\n<li>to view the route table, use <code class=\"language-text\">route</code></li>\n<li><code class=\"language-text\">ip route add 192.168.1.11/24 via 192.168.1.1</code> to add a route to the host. here, the ip address of the gateway’s interface is 192.168.1.1. recall how gateways have interfaces for each of the network they are attached to, so each interface is assigned an address in the network it faces\n<ul>\n<li>we can also use <code class=\"language-text\">ip route add default via 192.168.1.1</code> for the catch-all entry</li>\n</ul>\n</li>\n<li>to view the arp table, use <code class=\"language-text\">arp</code></li>\n<li>whether a host can transfer packets from one interface to another depends on the output of <code class=\"language-text\">/proc/sys/net/ipv4/ip_forward</code>, if it is 1 or 0</li>\n<li>view dns resolutions configured on the host via <code class=\"language-text\">/etc/hosts</code>. this is more for dns resolutions which we do not want to happen via the dns server(s)</li>\n<li>we can look at the dns servers configured for the host via <code class=\"language-text\">/etc/resolv.conf</code>\n<ul>\n<li>in here, we can also have entries of the form <code class=\"language-text\">search xyz.com pqr.company.org</code>. this means when we hit a website without its fqdn (fully qualified domain name), it will automatically try appending <code class=\"language-text\">xyz.com</code> and <code class=\"language-text\">pqr.company.org</code> to the name we provide and then carry out the dns resolution</li>\n</ul>\n</li>\n<li>both <code class=\"language-text\">dig xyz.com</code> and <code class=\"language-text\">nslookup xyz.com</code> can be used to test dns resolution. dig returns more information. however, both do not take into account what is stored in <code class=\"language-text\">/etc/hosts</code>, they simply query the dns server</li>\n<li>list the network namespaces using <code class=\"language-text\">ip netns</code></li>\n<li>now to run commands like <code class=\"language-text\">route</code> etc. on namespaces, use <code class=\"language-text\">ip netns exec &lt;&lt;namespace-name>> route</code></li>\n</ul>","frontmatter":{"title":"The TCP IP model"}}},"pageContext":{"id":"c76a79ba-ca1b-5439-8db3-c0bedb4301e5"}},"staticQueryHashes":["1037383464","1617985380"]}